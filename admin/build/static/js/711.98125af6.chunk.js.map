{"version":3,"file":"static/js/711.98125af6.chunk.js","mappings":"iQAEaA,GAAUC,EAAAA,EAAAA,IAAA,SAAAD,KAAAE,EAAAA,EAAAA,GAAA,KAAAF,EAAA,IAAVA,EACKG,eAAyB,WAD9BH,EAGJI,SAAW,WAChB,OAAOC,EAAAA,EAAAA,GAAQ,CACbC,OAAQC,EAAAA,EAAAA,IACRC,IAAI,IAADC,OANIT,EAMOG,gBACdO,OAAQ,CACNC,OAAQ,CACNC,MAAO,oBAIf,EAbWZ,EAeJa,OAAS,SAACC,GACf,OAAOT,EAAAA,EAAAA,GAAQ,CACbC,OAAQC,EAAAA,EAAAA,OACRC,IAAI,IAADC,OAlBIT,EAkBOG,eAAc,KAAAM,OAAIK,IAEpC,E,iCCTMC,EAAqBC,EAAAA,EAAAA,MAAdC,EAAcD,EAAAA,EAAAA,UAEd,SAASE,IACtB,IAAMC,GAAOC,EAAAA,EAAAA,GAAeC,EAAAA,IACtBC,GAAWC,EAAAA,EAAAA,MAEjBC,EAAAA,EAAAA,YAAU,WACRxB,EAAWI,WAAWqB,MAAK,SAACC,GAC1BJ,GAASK,EAAAA,EAAAA,IAAWD,EAAOP,MAC7B,GACF,GAAG,CAACG,IAEJ,IAAMM,EAAU,CACd,CACEC,MAAO,MACPC,UAAW,KACXC,OAAQ,SAACC,EAASC,GAChB,IAAMC,EAAMf,EAAKgB,WAAU,SAACC,GAAY,OAAKA,EAAGtB,KAAOmB,EAAOnB,EAAE,IAChE,OAAOuB,EAAAA,EAAAA,KAACrB,EAAAA,EAAAA,MAAgB,CAACsB,MAAO,EAAEC,SAAEL,EAAM,GAC5C,GAEF,CACEL,MAAO,uBACPC,UAAW,UACXU,MAAO,OAET,CACEX,MAAO,gBACPC,UAAW,UACXU,MAAO,MACPT,OAAQ,SAACC,EAASC,GAChB,OACEI,EAAAA,EAAAA,KAACI,EAAAA,EAAO,CAACZ,MAAOI,EAAOS,QAASC,UAAU,SAAQJ,UAChDF,EAAAA,EAAAA,KAACpB,EAAS,CAAC2B,SAAU,CAAEC,KAAM,EAAGC,OAAQ,OAAQP,SAC7CN,EAAOS,WAIhB,GAGF,CACEb,MAAO,4BACPC,UAAW,OACXU,MAAO,OAET,CACEX,MAAO,QACPC,UAAW,QACXU,MAAO,OAET,CACEX,MAAO,sBACPE,OAAQ,SAACC,EAASC,GAChB,OACEI,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CACTlB,MAAM,gEACNmB,UAAW,kBAAMC,EAAahB,EAAO,EAACM,UAEtCF,EAAAA,EAAAA,KAACrB,EAAAA,EAAAA,KAAe,CAACkC,UAAU,OAAMX,UAC/BF,EAAAA,EAAAA,KAACc,EAAAA,EAAc,CAACC,MAAO,CAAEC,SAAU,aAI3C,IAIEJ,EAAe,SAAChB,GAChBA,EAAOnB,IACTd,EAAAA,OAAkBiC,EAAOnB,IACtBW,MAAK,WACJH,GAASgC,EAAAA,EAAAA,IAAcrB,GACzB,IACCsB,OAAM,SAACC,GACNd,EAAAA,GAAAA,MAAc,QAChB,GAEN,EAEA,OACEe,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAnB,SAAA,EACEF,EAAAA,EAAAA,KAACsB,EAAAA,EAAG,CAAApB,UACFF,EAAAA,EAAAA,KAACtB,EAAK,CAACuB,MAAO,EAAEC,SAAC,uBAEnBF,EAAAA,EAAAA,KAACuB,EAAAA,EAAK,CAAChC,QAASA,EAASiC,WAAY1C,EAAM2C,UAAQ,EAACC,OAAO,SAGjE,C","sources":["apis/contact.api.ts","pages/contact/index.tsx"],"sourcesContent":["import { Method, request } from \"../helper/request.helper\";\r\n\r\nexport class ContactAPI {\r\n  static readonly COMPONENT_NAME: string = \"Contacts\";\r\n\r\n  static fetchAll = () => {\r\n    return request({\r\n      method: Method.GET,\r\n      url: `/${this.COMPONENT_NAME}`,\r\n      params: {\r\n        filter: {\r\n          order: \"createdAt DESC\",\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  static delete = (id: number) => {\r\n    return request({\r\n      method: Method.DELETE,\r\n      url: `/${this.COMPONENT_NAME}/${id}`,\r\n    });\r\n  };\r\n}\r\n","import { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { message, Popconfirm, Row, Table, Tooltip, Typography } from \"antd\";\r\nimport { useEffect } from \"react\";\r\nimport { ContactAPI } from \"../../apis/contact.api\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\r\nimport {\r\n  DeleteContact,\r\n  GetContact,\r\n  SetContact,\r\n} from \"../../app/reducers/Contact/Contact.reducer\";\r\nimport { IContact } from \"../../interface/Contact.interface\";\r\nimport { IProduct } from \"../../interface/Product.interface\";\r\n\r\nconst { Title, Paragraph } = Typography;\r\n\r\nexport default function Contact() {\r\n  const data = useAppSelector(GetContact);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    ContactAPI.fetchAll().then((result) => {\r\n      dispatch(SetContact(result.data));\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"STT\",\r\n      dataIndex: \"id\",\r\n      render: (_: null, record: IContact) => {\r\n        const idx = data.findIndex((el: IContact) => el.id === record.id);\r\n        return <Typography.Title level={5}>{idx + 1}</Typography.Title>;\r\n      },\r\n    },\r\n    {\r\n      title: \"Tiêu đề\",\r\n      dataIndex: \"subject\",\r\n      width: \"10%\",\r\n    },\r\n    {\r\n      title: \"Nội dung\",\r\n      dataIndex: \"message\",\r\n      width: \"30%\",\r\n      render: (_: null, record: IContact) => {\r\n        return (\r\n          <Tooltip title={record.message} placement=\"bottom\">\r\n            <Paragraph ellipsis={{ rows: 2, suffix: \"...\" }}>\r\n              {record.message}\r\n            </Paragraph>\r\n          </Tooltip>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"Người gửi \",\r\n      dataIndex: \"name\",\r\n      width: \"10%\",\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: \"Thiết lập\",\r\n      render: (_: null, record: IContact) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"Bạn có chắc chắn muốn xóa không?\"\r\n            onConfirm={() => deleteRecord(record)}\r\n          >\r\n            <Typography.Link className=\"mr-4\">\r\n              <DeleteOutlined style={{ fontSize: \"130%\" }} />\r\n            </Typography.Link>\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const deleteRecord = (record: IProduct) => {\r\n    if (record.id) {\r\n      ContactAPI.delete(record.id)\r\n        .then(() => {\r\n          dispatch(DeleteContact(record));\r\n        })\r\n        .catch((err) => {\r\n          message.error(\"Error\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Title level={3}>Liên hệ</Title>\r\n      </Row>\r\n      <Table columns={columns} dataSource={data} bordered rowKey=\"id\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":["ContactAPI","_createClass","_classCallCheck","COMPONENT_NAME","fetchAll","request","method","Method","url","concat","params","filter","order","delete","id","Title","Typography","Paragraph","Contact","data","useAppSelector","GetContact","dispatch","useAppDispatch","useEffect","then","result","SetContact","columns","title","dataIndex","render","_","record","idx","findIndex","el","_jsx","level","children","width","Tooltip","message","placement","ellipsis","rows","suffix","Popconfirm","onConfirm","deleteRecord","className","DeleteOutlined","style","fontSize","DeleteContact","catch","err","_jsxs","_Fragment","Row","Table","dataSource","bordered","rowKey"],"sourceRoot":""}