"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[632],{7444:function(t,n,e){e.d(n,{E:function(){return a}});var i=e(3144),r=e(5671),c=e(9344),a=(0,i.Z)((function t(){(0,r.Z)(this,t)}));a.COMPONENT_NAME="CategoryProducts",a.fetchAll=function(){return(0,c.W)({method:c.n.GET,url:"/".concat(a.COMPONENT_NAME),params:{filter:{order:"createdAt DESC"}}})},a.create=function(t){return(0,c.W)({method:c.n.POST,url:"/".concat(a.COMPONENT_NAME),data:t})},a.update=function(t,n){return(0,c.W)({method:c.n.PATCH,url:"/".concat(a.COMPONENT_NAME,"/").concat(t),data:n})},a.delete=function(t){return(0,c.W)({method:c.n.DELETE,url:"/".concat(a.COMPONENT_NAME,"/").concat(t)})}},8206:function(t,n,e){e.d(n,{e:function(){return a}});var i=e(3144),r=e(5671),c=e(9344),a=(0,i.Z)((function t(){(0,r.Z)(this,t)}));a.COMPONENT_NAME="Containers",a.upload=function(t){var n=new FormData;return n.append("file",t),(0,c.W)({method:c.n.POST,url:"/".concat(a.COMPONENT_NAME,"/image/upload"),headers:{"Content-Type":"multipart/form-data"},data:n})}},3802:function(t,n,e){e.d(n,{n:function(){return u}});var i=e(1413),r=e(5987),c=e(2706),a=e(9389),o=e(7846),d=e(184),l=["editing","dataIndex","title","inputType","record","index","children"],u=function(t){var n=t.editing,e=t.dataIndex,u=t.title,s=t.inputType,f=(t.record,t.index,t.children),h=(0,r.Z)(t,l),m="number"===s?(0,d.jsx)(c.Z,{}):(0,d.jsx)(a.Z,{});return(0,d.jsx)("td",(0,i.Z)((0,i.Z)({},h),{},{children:n?(0,d.jsx)(o.Z.Item,{name:e,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(u,"!")}],children:m}):f}))}},1626:function(t,n,e){e.d(n,{o:function(){return r}});var i=e(4974),r=function(t){return"".concat(i.X.apiUrl,"/Containers/image/download/").concat(t.result.files.file[0].name)}},3492:function(t,n,e){e.r(n),e.d(n,{default:function(){return W}});var i=e(1413),r=e(9439),c=e(7575),a=e(732),o=e(1752),d=e(2622),l=e(3414),u=e(9286),s=e(5863),f=e(9555),h=e(7846),m=e(7027),x=e(1555),p=e(2266),Z=e(131),N=e(1082),E=e(6106),j=e(7309),T=e(2477),C=e(2791),g=e(8206),O=e(3144),P=e(5671),M=e(9344),y=(0,O.Z)((function t(){(0,P.Z)(this,t)}));y.COMPONENT_NAME="Products",y.fetchAll=function(){return(0,M.W)({method:M.n.GET,url:"/".concat(y.COMPONENT_NAME),params:{filter:{order:"createdAt DESC"}}})},y.createMulti=function(t){return(0,M.W)({method:M.n.POST,url:"/".concat(y.COMPONENT_NAME),data:t})},y.create=function(t){return(0,M.W)({method:M.n.POST,url:"/".concat(y.COMPONENT_NAME),data:t})},y.update=function(t,n){return(0,M.W)({method:M.n.PATCH,url:"/".concat(y.COMPONENT_NAME,"/").concat(t),data:n})},y.delete=function(t){return(0,M.W)({method:M.n.DELETE,url:"/".concat(y.COMPONENT_NAME,"/").concat(t)})};var v=e(4740),A=e(6035),S=e(120),I=e(1601),b=e(3802),k=e(1626),F=e(7444),w=e(184),_=s.Z.Title,L=s.Z.Paragraph,D=f.Z.Option;function W(){var t=(0,v.C)(A.O_),n=(0,v.C)(S.oW),e=(0,v.T)();(0,C.useEffect)((function(){y.fetchAll().then((function(t){e((0,A.Q2)(t.data))})),F.E.fetchAll().then((function(t){e((0,S.k0)(t.data))}))}),[e]);var O=h.Z.useForm(),P=(0,r.Z)(O,1)[0],M=function(t){return t.id===V},W=(0,C.useState)(),z=(0,r.Z)(W,2),V=z[0],R=z[1],U=function(){R(void 0)},G=[{title:"STT",dataIndex:"id",render:function(n,e){var i=t.findIndex((function(t){return t.id===e.id}));return(0,w.jsx)(s.Z.Title,{level:5,children:i+1})}},{title:"T\xean",dataIndex:"title",width:"10%",editable:!0},{title:"Gi\xe1",dataIndex:"price",width:"10%",editable:!0,render:function(t,n){var e;return(0,w.jsx)(w.Fragment,{children:null===(e=n.price)||void 0===e?void 0:e.toLocaleString("it-IT",{style:"currency",currency:"VND"})})}},{title:"H\xecnh \u1ea3nh",width:"10%",render:function(t,n){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(x.Z,{customRequest:function(t){t.onSuccess&&t.onSuccess("ok")},onChange:function(t){return function(t,n){g.e.upload(n.file.originFileObj).then((function(n){var r=(0,k.o)(n.data);t.id&&y.update(t.id,(0,i.Z)((0,i.Z)({},t),{},{photoURL:r})).then((function(t){e((0,A.T)(t.data))}))}))}(n,t)},maxCount:1,showUploadList:!1,children:(0,w.jsx)(p.C,{src:n.photoURL?n.photoURL:I,size:"large"})})})}},{title:"M\xe0u s\u1eafc",dataIndex:"color",width:"7%",editable:!0},{title:"Danh m\u1ee5c s\u1ea3n ph\u1ea9m",dataIndex:"categoryProductId",render:function(t,r){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(f.Z,{value:r.categoryProductId,style:{width:180},onChange:function(t){return function(t,n){t.id&&"number"===typeof n&&y.update(t.id,(0,i.Z)((0,i.Z)({},t),{},{categoryProductId:n})).then((function(t){e((0,A.T)(t.data))}))}(r,t)},children:n.length>0&&n.map((function(t,n){return(0,w.jsx)(D,{value:t.id,children:t.title},n)}))})})}},{title:"M\xf4 t\u1ea3",dataIndex:"metaDescription",width:"20%",editable:!0,render:function(t,n){return(0,w.jsx)(Z.Z,{title:n.metaDescription,style:{height:150},placement:"bottom",children:(0,w.jsx)(L,{ellipsis:{rows:2,suffix:"..."},children:n.metaDescription})})}},{title:"K\xedch c\u1ee1",dataIndex:"size",width:"7%",editable:!0},{title:"Thi\u1ebft l\u1eadp",render:function(t,n){return M(n)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{title:"L\u01b0u",children:(0,w.jsx)(s.Z.Link,{className:"mr-4",onClick:function(){return function(t){try{if(t.id){var n=P.getFieldsValue(),i=!1;P.getFieldsError().forEach((function(t){t.errors.length>0&&(i=!0)})),i?m.ZP.error("Validate Failed"):y.update(t.id,n).then((function(t){e((0,A.T)(t.data)),R(void 0)}))}else m.ZP.error("Validate Failed")}catch(r){console.log("Validate Failed:",r)}}(n)},children:(0,w.jsx)(c.Z,{style:{fontSize:"130%"}})})}),(0,w.jsx)(Z.Z,{title:"\u0110\xf3ng",children:(0,w.jsx)(s.Z.Link,{onClick:U,children:(0,w.jsx)(a.Z,{style:{fontSize:"130%"}})})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{title:"S\u1eeda",children:(0,w.jsx)(s.Z.Link,{className:"mr-4",disabled:void 0!==V,onClick:function(){return function(t){P.setFieldsValue((0,i.Z)({},t)),R(t.id)}(n)},children:(0,w.jsx)(o.Z,{style:{fontSize:"130%"}})})}),(0,w.jsx)(N.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){return H(n)},children:(0,w.jsx)(s.Z.Link,{className:"mr-4",children:(0,w.jsx)(d.Z,{style:{fontSize:"130%"}})})}),(0,w.jsx)(Z.Z,{title:"Nh\xe2n b\u1ea3n",children:(0,w.jsx)(s.Z.Link,{children:(0,w.jsx)(l.Z,{style:{fontSize:"130%"}})})})]})}}].map((function(t){return t.editable?(0,i.Z)((0,i.Z)({},t),{},{onCell:function(n){return{record:n,inputType:"price"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:M(n)}}}):t})),H=function(t){t.id&&y.delete(t.id).then((function(){e((0,A.K2)(t))})).catch((function(t){m.ZP.error("Error")}))};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(E.Z,{children:(0,w.jsx)(_,{level:3,children:"S\u1ea3n ph\u1ea9m"})}),(0,w.jsx)(E.Z,{className:"mb-4",children:(0,w.jsx)(j.ZP,{type:"primary",icon:(0,w.jsx)(u.Z,{}),className:"mr-4",onClick:function(){y.create({title:"Product",price:2e5,color:"",size:"S",metaDescription:""}).then((function(t){e((0,A.Rl)(t.data))}))},children:"Th\xeam m\u1edbi"})}),(0,w.jsx)(h.Z,{form:P,component:!1,children:(0,w.jsx)(T.Z,{columns:G,components:{body:{cell:b.n}},dataSource:t,bordered:!0,rowKey:"id",pagination:{pageSize:10}})})]})}},1601:function(t,n,e){t.exports=e.p+"static/media/product.486f0f6f4ad9930c2e91.png"}}]);
//# sourceMappingURL=632.03782f4d.chunk.js.map