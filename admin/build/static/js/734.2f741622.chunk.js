"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[734],{8563:function(e,t,n){n.d(t,{D:function(){return c}});var r=n(3144),i=n(5671),d=n(9344),c=(0,r.Z)((function e(){(0,i.Z)(this,e)}));c.COMPONENT_NAME="Orders",c.fetchAll=function(){return(0,d.W)({method:d.n.GET,url:"/".concat(c.COMPONENT_NAME),params:{filter:{order:"createdAt DESC"}}})},c.createMulti=function(e){return(0,d.W)({method:d.n.POST,url:"/".concat(c.COMPONENT_NAME),data:e})},c.create=function(e){return(0,d.W)({method:d.n.POST,url:"/".concat(c.COMPONENT_NAME),data:e})},c.update=function(e,t){return(0,d.W)({method:d.n.PATCH,url:"/".concat(c.COMPONENT_NAME,"/").concat(e),data:t})},c.delete=function(e){return(0,d.W)({method:d.n.DELETE,url:"/".concat(c.COMPONENT_NAME,"/").concat(e)})},c.statisticAmount=function(e){return(0,d.W)({method:d.n.GET,url:"/".concat(c.COMPONENT_NAME,"/statistic-amount"),params:{year:e}})},c.statisticRevenue=function(e){return(0,d.W)({method:d.n.GET,url:"/".concat(c.COMPONENT_NAME,"/statistic-revenue"),params:{year:e}})}},3802:function(e,t,n){n.d(t,{n:function(){return l}});var r=n(1413),i=n(5987),d=n(2706),c=n(9389),a=n(7846),o=n(184),u=["editing","dataIndex","title","inputType","record","index","children"],l=function(e){var t=e.editing,n=e.dataIndex,l=e.title,s=e.inputType,h=(e.record,e.index,e.children),f=(0,i.Z)(e,u),m="number"===s?(0,o.jsx)(d.Z,{}):(0,o.jsx)(c.Z,{});return(0,o.jsx)("td",(0,r.Z)((0,r.Z)({},f),{},{children:t?(0,o.jsx)(a.Z.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(l,"!")}],children:m}):h}))}},2497:function(e,t,n){n.d(t,{K:function(){return i}});var r=n(1243),i=function(){return r.Z.get("https://provinces.open-api.vn/api/?depth=2").then((function(e){return e.data})).catch((function(e){return console.log("err")}))}},734:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var r=n(1413),i=n(4165),d=n(5861),c=n(9439),a=n(9286),o=n(5863),u=n(9555),l=n(7846),s=n(7027),h=n(6106),f=n(7309),m=n(2477),p=n(2791),x=n(8563),Z=n(4740),j=n(5604),v=n(3802),N=n(2497),g=n(4215),T=n(2622),E=n(131),O=n(1082),b=n(3433),y=n(2266),w=n(9998),C=n(3144),I=n(5671),M=n(9344),P=(0,C.Z)((function e(){(0,I.Z)(this,e)}));P.COMPONENT_NAME="OrderProducts",P.fetchFromOrder=function(e){return(0,M.W)({method:M.n.GET,url:"/".concat(P.COMPONENT_NAME),params:{filter:{where:{orderId:e},include:"product"}}})};var S=n(4152),F=n(1601),A=n(184),k=o.Z.Text;function _(e){var t=e.modalOpen,n=e.setModalOpen,a=e.order,o=(0,Z.C)(S.b),u=(0,Z.T)(),l=(0,p.useState)([]),s=(0,c.Z)(l,2),x=s[0],j=s[1],g=(0,p.useState)([]),T=(0,c.Z)(g,2),E=T[0],O=T[1],C=function(){var e=(0,d.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.K)();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){var e;null!==a&&void 0!==a&&a.id&&((e=null===a||void 0===a?void 0:a.id)&&P.fetchFromOrder(e).then((function(e){u((0,S.i$)(e.data))})).catch((function(e){return console.log(e)}))),a&&j([].concat((0,b.Z)(x),[a]))}),[null===a||void 0===a?void 0:a.id,t]),(0,p.useEffect)((function(){C()}),[]);var I=[{title:"T\xean s\u1ea3n ph\u1ea9m",width:"12%",render:function(e,t){return(0,A.jsx)(A.Fragment,{children:t.product.title})}},{title:"S\u1ed1 l\u01b0\u1ee3ng",dataIndex:"amount",width:"12%"},{title:"Gi\xe1",dataIndex:"price",width:"12%"},{title:"M\xe0u",width:"12%",render:function(e,t){return(0,A.jsx)(A.Fragment,{children:t.product.color})}},{title:"K\xedch c\u1ee1",width:"12%",render:function(e,t){return(0,A.jsx)(A.Fragment,{children:t.product.size})}},{title:"H\xecnh \u1ea3nh",width:"12%",editable:!1,render:function(e,t){return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(y.C,{src:t.photoURL?t.photoURL:F,size:"large"})})}}],M=[{title:"H\u1ecd t\xean",width:"12%",editable:!1,render:function(e,t){return(0,A.jsx)(A.Fragment,{children:t.firstName+" "+t.lastName})}},{title:"S\u0110T",dataIndex:"phoneNumber",width:"10%",editable:!1},{title:"Email",dataIndex:"email",width:"20%",editable:!1},{title:"\u0110\u1ecba ch\u1ec9",width:"20%",editable:!1,render:function(e,t){var n=E.find((function(e){return e.code===t.city})),r=null===n||void 0===n?void 0:n.districts.find((function(e){return e.code===t.district}));return(0,A.jsxs)(A.Fragment,{children:[t.address,"-",null===r||void 0===r?void 0:r.name," - ",null===n||void 0===n?void 0:n.name]})}},{title:"Ghi ch\xfa",dataIndex:"note",width:"20%",editable:!1}].map((function(e){return e.editable?(0,r.Z)((0,r.Z)({},e),{},{onCell:function(t){return{record:t,inputType:"price"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title}}}):e})),_=I.map((function(e){return e.editable?(0,r.Z)((0,r.Z)({},e),{},{onCell:function(t){return{record:t,inputType:"price"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title}}}):e}));return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(w.Z,{destroyOnClose:!0,title:"Chi ti\u1ebft \u0111\u01a1n h\xe0ng",style:{top:20},open:t,onOk:function(){return n(!1)},onCancel:function(){return n(!1)},footer:null,forceRender:!0,children:(0,A.jsxs)(h.Z,{style:{width:1e3},children:[(0,A.jsx)(k,{className:"mb-5",children:"Th\xf4ng tin Kh\xe1ch h\xe0ng"}),(0,A.jsx)(m.Z,{columns:M,components:{body:{cell:v.n}},dataSource:x,bordered:!0,rowKey:"id",pagination:!1,style:{width:1e3}}),(0,A.jsx)(k,{className:"mb-5",children:"Th\xf4ng tin gi\u1ecf h\xe0ng"}),(0,A.jsx)(m.Z,{columns:_,components:{body:{cell:v.n}},dataSource:o.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{amount:e.amount,price:e.price,product:e.product})})),bordered:!0,rowKey:"id",pagination:!1,style:{width:1e3}}),(0,A.jsxs)(h.Z,{className:"justify-end mt-10 w-full",style:{left:100},children:[(0,A.jsx)(f.ZP,{className:"mr-4",onClick:function(){return n(!1)},children:"\u0110\xf3ng"}),(0,A.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:"L\u01b0u"})]})]})})})})}function K(e){var t=e.deleteOrder,n=e.record,r=(0,p.useState)(!1),i=(0,c.Z)(r,2),d=i[0],a=i[1];return(0,A.jsxs)(A.Fragment,{children:[d&&(0,A.jsx)(_,{modalOpen:d,setModalOpen:a,order:n}),(0,A.jsx)(E.Z,{title:"Xem \u0111\u01a1n",children:(0,A.jsx)(o.Z.Link,{className:"mr-4",onClick:function(){a(!0)},children:(0,A.jsx)(g.Z,{style:{fontSize:"130%"}})})}),(0,A.jsx)(O.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){return t(n)},children:(0,A.jsx)(o.Z.Link,{className:"mr-4",children:(0,A.jsx)(T.Z,{style:{fontSize:"130%"}})})})]})}var W=o.Z.Title,D=u.Z.Option;function G(){var e=(0,Z.C)(j.RP),t=(0,Z.T)(),n=l.Z.useForm(),g=(0,c.Z)(n,1)[0],T=(0,p.useState)([]),E=(0,c.Z)(T,2),O=E[0],b=E[1];(0,p.useEffect)((function(){x.D.fetchAll().then((function(e){t((0,j.uh)(e.data))}))}),[t]),(0,p.useEffect)((function(){y()}),[]);var y=function(){var e=(0,d.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.K)();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){e.id&&x.D.delete(e.id).then((function(){t((0,j.Ee)(e))})).catch((function(e){s.ZP.error("Error")}))},C=[{title:"STT",dataIndex:"id",render:function(t,n){var r=e.findIndex((function(e){return e.id===n.id}));return(0,A.jsx)(o.Z.Title,{level:5,children:r+1})}},{title:"M\xe3 \u0111\u01a1n",dataIndex:"code",width:"7%",editable:!1},{title:"H\u1ecd t\xean",width:"12%",editable:!1,render:function(e,t){return(0,A.jsx)(A.Fragment,{children:t.firstName+" "+t.lastName})}},{title:"S\u0110T",dataIndex:"phoneNumber",width:"10%",editable:!1},{title:"Email",dataIndex:"email",width:"20%",editable:!1},{title:"\u0110\u1ecba ch\u1ec9",width:"20%",editable:!1,render:function(e,t){var n=O.find((function(e){return e.code===t.city})),r=null===n||void 0===n?void 0:n.districts.find((function(e){return e.code===t.district}));return(0,A.jsxs)(A.Fragment,{children:[null===r||void 0===r?void 0:r.name," - ",null===n||void 0===n?void 0:n.name]})}},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",width:"10%",editable:!1,render:function(e,n){return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(u.Z,{value:n.status,style:{width:180},onChange:function(e){return function(e,n){e.id&&"string"===typeof n&&x.D.update(e.id,(0,r.Z)((0,r.Z)({},e),{},{status:n})).then((function(e){t((0,j.qJ)(e.data))}))}(n,e)},children:[(0,A.jsx)(D,{value:"\u0110\xe3 t\u1ea1o \u0111\u01a1n",children:"\u0110\xe3 t\u1ea1o \u0111\u01a1n"},2),(0,A.jsx)(D,{value:"Th\xe0nh c\xf4ng",children:"\u0110\xe3 t\u1ea1o \u0111\u01a1n"},2)]})})}},{title:"Thi\u1ebft l\u1eadp",render:function(e,t){return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(K,{deleteOrder:w,record:t})})}}].map((function(e){return e.editable?(0,r.Z)((0,r.Z)({},e),{},{onCell:function(t){return{record:t,inputType:"price"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title}}}):e}));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(h.Z,{children:(0,A.jsx)(W,{level:3,children:"S\u1ea3n ph\u1ea9m"})}),(0,A.jsx)(h.Z,{className:"mb-4",children:(0,A.jsx)(f.ZP,{type:"primary",icon:(0,A.jsx)(a.Z,{}),className:"mr-4",children:"Th\xeam m\u1edbi"})}),(0,A.jsx)(l.Z,{form:g,component:!1,children:(0,A.jsx)(m.Z,{columns:C,components:{body:{cell:v.n}},dataSource:e,bordered:!0,rowKey:"id",pagination:{pageSize:10}})})]})}},1601:function(e,t,n){e.exports=n.p+"static/media/product.486f0f6f4ad9930c2e91.png"}}]);
//# sourceMappingURL=734.2f741622.chunk.js.map