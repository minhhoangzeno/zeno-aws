"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[779],{3281:function(e,n,r){r.d(n,{D:function(){return l}});var i=r(3144),t=r(5671),c=r(1186),l=(0,i.Z)((function e(){(0,t.Z)(this,e)}));l.COMPONENT_NAME="DurationTimes",l.fetchAll=function(){return(0,c.W)({method:c.n.GET,url:"/".concat(l.COMPONENT_NAME)})},l.delete=function(e){return(0,c.W)({method:c.n.DELETE,url:"/".concat(l.COMPONENT_NAME,"/").concat(e)})},l.add=function(e){return(0,c.W)({method:c.n.POST,url:"/".concat(l.COMPONENT_NAME),data:e})},l.update=function(e,n){return(0,c.W)({method:c.n.PATCH,url:"/".concat(l.COMPONENT_NAME,"/").concat(e),data:n})}},7779:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var i=r(9439),t=r(9286),c=r(2622),l=r(1752),s=r(8302),d=r(6106),u=r(7309),a=r(7027),o=r(6e3),h=r(1082),m=r(2791),x=r(3281),f=r(3144),j=r(5671),Z=r(1186),O=(0,f.Z)((function e(){(0,j.Z)(this,e)}));O.COMPONENT_NAME="Orders",O.fetchAll=function(){return(0,Z.W)({method:Z.n.GET,url:"/".concat(O.COMPONENT_NAME)})},O.fetchByAccount=function(e){return(0,Z.W)({method:Z.n.GET,url:"/".concat(O.COMPONENT_NAME),params:{filter:{where:{accountId:e}}}})},O.delete=function(e){return(0,Z.W)({method:Z.n.DELETE,url:"/".concat(O.COMPONENT_NAME,"/").concat(e)})},O.add=function(e){return(0,Z.W)({method:Z.n.POST,url:"/".concat(O.COMPONENT_NAME),data:e})},O.update=function(e,n){return(0,Z.W)({method:Z.n.PATCH,url:"/".concat(O.COMPONENT_NAME,"/").concat(e),data:n})};var N=r(4740),T=r(72),b=r(6486),v=r(5604),p=r(1413),E=r(9555),C=r(7846),I=r(1990),A=r(2706),g=r(184),y=E.Z.Option;function M(e){var n=C.Z.useForm(),r=(0,i.Z)(n,1)[0],t=e.isModalOpen,c=e.setIsModalOpen,l=(0,N.C)(b.vT),o=(0,N.T)(),h=(0,N.C)(T.dy);(0,m.useEffect)((function(){l.length>0&&l[0].id&&r.setFieldValue("durationTimeId",l[0].id)}),[t,l,r]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(I.Z,{width:840,open:t,destroyOnClose:!0,footer:null,onCancel:function(){return c(!1)},forceRender:!0,title:(0,g.jsx)(s.Z.Text,{children:"Th\xeam b\xe1o c\xe1o"}),children:(0,g.jsx)(d.Z,{children:(0,g.jsxs)(C.Z,{name:"order",form:r,colon:!1,autoComplete:"off",className:"w-full",onFinishFailed:function(){a.ZP.error("Error!")},onFinish:function(e){O.add((0,p.Z)((0,p.Z)({},e),{},{accountId:null===h||void 0===h?void 0:h.id,teamId:null===h||void 0===h?void 0:h.teamId})).then((function(e){o((0,v.$y)(e.data)),a.ZP.success("Success"),c(!1)})).catch((function(e){console.log("err",e),a.ZP.error("Error!")}))},children:[(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi \u0111\xe3 g\u1ecdi"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfCall",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi \u0111\xe3 t\u01b0 v\u1ea5n"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfAdvise",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi ch\u1ed1t"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfOrder",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi x\xe1c nh\u1eadn"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfAccepted",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Doanh thu ch\u1ed1t"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"revenueOfOrder",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Doanh thu x\xe1c nh\u1eadn"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"revenueOfAccepted",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsx)(d.Z,{className:"justify-between",children:(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Khung gi\u1edd"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"durationTimeId",required:!0,children:(0,g.jsx)(E.Z,{children:l.length>0&&l.map((function(e){return(0,g.jsx)(y,{value:e.id,children:e.title},e.id)}))})})})]})}),(0,g.jsxs)(d.Z,{className:"justify-end",children:[(0,g.jsx)(u.ZP,{className:"mr-4",onClick:function(){return c(!1)},children:"\u0110\xf3ng"}),(0,g.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"L\u01b0u"})]})]})})})})}var P=E.Z.Option;function S(e){var n=C.Z.useForm(),r=(0,i.Z)(n,1)[0],t=e.isModalOpen,c=e.setIsModalOpen,l=e.record,o=(0,N.C)(b.vT),h=(0,N.T)();(0,m.useEffect)((function(){r.setFieldsValue({numberOfCall:l.numberOfCall,numberOfAdvise:l.numberOfAdvise,numberOfOrder:l.numberOfOrder,numberOfAccepted:l.numberOfAccepted,revenueOfOrder:l.revenueOfOrder,revenueOfAccepted:l.revenueOfAccepted,durationTimeId:l.durationTimeId})}),[r,l,t]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(I.Z,{width:840,open:t,destroyOnClose:!0,footer:null,onCancel:function(){return c(!1)},title:(0,g.jsx)(s.Z.Text,{children:"S\u1eeda b\xe1o c\xe1o"}),children:(0,g.jsx)(d.Z,{children:(0,g.jsxs)(C.Z,{name:"order",form:r,colon:!1,autoComplete:"off",className:"w-full",onFinishFailed:function(){a.ZP.error("Error!")},onFinish:function(e){l.id&&O.update(l.id,e).then((function(e){h((0,v.qJ)(e.data)),a.ZP.success("Success"),c(!1)})).catch((function(e){console.log("err",e),a.ZP.error("Error!")}))},children:[(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi \u0111\xe3 g\u1ecdi"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfCall",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi \u0111\xe3 t\u01b0 v\u1ea5n"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfAdvise",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi ch\u1ed1t"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfOrder",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"S\u1ed1 cu\u1ed9c g\u1ecdi x\xe1c nh\u1eadn"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"numberOfAccepted",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsxs)(d.Z,{className:"justify-between",children:[(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Doanh thu ch\u1ed1t"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"revenueOfOrder",required:!0,children:(0,g.jsx)(A.Z,{})})})]}),(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Doanh thu x\xe1c nh\u1eadn"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"revenueOfAccepted",required:!0,children:(0,g.jsx)(A.Z,{})})})]})]}),(0,g.jsx)(d.Z,{className:"justify-between",children:(0,g.jsxs)("ul",{className:"form-item",children:[(0,g.jsx)("li",{children:(0,g.jsx)(s.Z.Text,{children:"Khung gi\u1edd"})}),(0,g.jsx)("li",{children:(0,g.jsx)(C.Z.Item,{label:"",name:"durationTimeId",required:!0,children:(0,g.jsx)(E.Z,{children:o.length>0&&o.map((function(e){return(0,g.jsx)(P,{value:e.id,children:e.title},e.id)}))})})})]})}),(0,g.jsxs)(d.Z,{className:"justify-end",children:[(0,g.jsx)(u.ZP,{className:"mr-4",onClick:function(){return c(!1)},children:"\u0110\xf3ng"}),(0,g.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"L\u01b0u"})]})]})})})})}var w=function(e){return e.toLocaleString("it-IT",{style:"currency",currency:"VND"})};function F(){var e=(0,N.C)(v.RP),n=(0,N.T)(),r=(0,N.C)(T.dy),c=(0,N.C)(b.vT),l=(0,m.useState)(!1),h=(0,i.Z)(l,2),f=h[0],j=h[1];(0,m.useEffect)((function(){null!==r&&void 0!==r&&r.id&&O.fetchByAccount(r.id).then((function(e){n((0,v.uh)(e.data))})),x.D.fetchAll().then((function(e){n((0,b.fw)(e.data))}))}),[n,null===r||void 0===r?void 0:r.id]);var Z=[{title:"STT",render:function(e,n,r){return(0,g.jsx)(s.Z.Title,{level:5,children:r+1})}},{title:"S\u1ed1 S\u0110T g\u1ecdi",dataIndex:"numberOfCall",width:"12%"},{title:"S\u1ed1 S\u0110T t\u01b0 v\u1ea5n",dataIndex:"numberOfAdvise",width:"12%"},{title:"S\u1ed1 S\u0110T ch\u1ed1t",dataIndex:"numberOfOrder",width:"11%"},{title:"S\u1ed1 S\u0110T x\xe1c nh\u1eadn",dataIndex:"numberOfAccepted",width:"14%"},{title:"Doanh thu ch\u1ed1t",dataIndex:"revenueOfOrder",render:function(e,n){return(0,g.jsx)(g.Fragment,{children:n.revenueOfOrder&&w(n.revenueOfOrder)})}},{title:"Doanh thu x\xe1c nh\u1eadn",dataIndex:"revenueOfAccepted",render:function(e,n){return(0,g.jsx)(g.Fragment,{children:n.revenueOfAccepted&&w(n.revenueOfAccepted)})}},{title:"Khung gi\u1edd",render:function(e,n){var r=c.findIndex((function(e){return e.id===n.durationTimeId}));return(0,g.jsx)(g.Fragment,{children:r>-1&&c[r].title})}},{title:"Thi\u1ebft l\u1eadp",render:function(e,n){return(0,g.jsx)(q,{record:n})}}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{className:"mb-4",children:(0,g.jsx)(u.ZP,{type:"primary",icon:(0,g.jsx)(t.Z,{}),className:"mr-4",onClick:function(){null!==r&&void 0!==r&&r.teamId?j(!0):a.ZP.info("B\u1ea1n ch\u01b0a v\xe0o team!!!")}})}),(0,g.jsx)(M,{isModalOpen:f,setIsModalOpen:j}),(0,g.jsx)(o.Z,{columns:Z,dataSource:e,bordered:!0,rowKey:"id",pagination:!1})]})}function q(e){var n=e.record,r=(0,N.T)(),t=(0,m.useState)(!1),d=(0,i.Z)(t,2),u=d[0],o=d[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){n.id&&O.delete(n.id).then((function(){r((0,v.Ee)(n))})).catch((function(e){a.ZP.error("Error")}))},children:(0,g.jsx)(s.Z.Link,{className:"mr-4",children:(0,g.jsx)(c.Z,{style:{fontSize:"130%"}})})}),(0,g.jsx)(s.Z.Link,{className:"mr-4",onClick:function(){return o(!0)},children:(0,g.jsx)(l.Z,{style:{fontSize:"130%"}})}),(0,g.jsx)(S,{record:n,isModalOpen:u,setIsModalOpen:o})]})}}}]);
//# sourceMappingURL=779.6a7a147f.chunk.js.map