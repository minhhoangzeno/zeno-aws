"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[813],{8206:function(n,e,t){t.d(e,{e:function(){return o}});var r=t(3144),c=t(5671),i=t(9344),o=(0,r.Z)((function n(){(0,c.Z)(this,n)}));o.COMPONENT_NAME="Containers",o.upload=function(n){var e=new FormData;return e.append("file",n),(0,i.W)({method:i.n.POST,url:"/".concat(o.COMPONENT_NAME,"/image/upload"),headers:{"Content-Type":"multipart/form-data"},data:e})}},3802:function(n,e,t){t.d(e,{n:function(){return s}});var r=t(1413),c=t(5987),i=t(2706),o=t(9389),a=t(7846),u=t(184),d=["editing","dataIndex","title","inputType","record","index","children"],s=function(n){var e=n.editing,t=n.dataIndex,s=n.title,l=n.inputType,f=(n.record,n.index,n.children),h=(0,c.Z)(n,d),m="number"===l?(0,u.jsx)(i.Z,{}):(0,u.jsx)(o.Z,{});return(0,u.jsx)("td",(0,r.Z)((0,r.Z)({},h),{},{children:e?(0,u.jsx)(a.Z.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(s,"!")}],children:m}):f}))}},1626:function(n,e,t){t.d(e,{o:function(){return c}});var r=t(4974),c=function(n){return"".concat(r.X.apiUrl,"/Containers/image/download/").concat(n.result.files.file[0].name)}},9813:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r=t(1413),c=t(2351),i=t(2622),o=t(9286),a=t(5863),u=t(6106),d=t(2242),s=t(1555),l=t(7309),f=t(1082),h=t(2477),m=t(2791),p=t(3144),x=t(5671),N=t(9344),Z=(0,p.Z)((function n(){(0,x.Z)(this,n)}));Z.COMPONENT_NAME="Banners",Z.fetchAll=function(){return(0,N.W)({method:N.n.GET,url:"/".concat(Z.COMPONENT_NAME),params:{filter:{order:"createdAt DESC"}}})},Z.create=function(n){return console.log("data",n),(0,N.W)({method:N.n.POST,url:"/".concat(Z.COMPONENT_NAME),data:n})},Z.update=function(n,e){return(0,N.W)({method:N.n.PATCH,url:"/".concat(Z.COMPONENT_NAME,"/").concat(n),data:e})},Z.delete=function(n){return(0,N.W)({method:N.n.DELETE,url:"/".concat(Z.COMPONENT_NAME,"/").concat(n)})};var T=t(8206),j=t(4740),E=t(1967),C=t(1601),O=t(3802),g=t(1626),v=t(184),M=a.Z.Title;function P(){var n=(0,j.C)(E.h7),e=(0,j.T)();(0,m.useEffect)((function(){Z.fetchAll().then((function(n){e((0,E.Po)(n.data))}))}),[e]);var t=[{title:"STT",dataIndex:"id",render:function(e,t){var r=n.findIndex((function(n){return n.id===t.id}));return(0,v.jsx)(a.Z.Title,{level:5,children:r+1})}},{title:"\u1ea2nh",dataIndex:"Background",width:"40%",render:function(n,t){return(0,v.jsxs)(u.Z,{className:"flex-col",children:[(0,v.jsx)(d.Z,{src:t.photoURL?t.photoURL:C,height:150}),(0,v.jsx)(s.Z,{customRequest:function(n){n.onSuccess&&n.onSuccess("ok")},onChange:function(n){return function(n,t){T.e.upload(t.file.originFileObj).then((function(t){var c=(0,g.o)(t.data);n.id&&Z.update(n.id,(0,r.Z)((0,r.Z)({},n),{},{photoURL:c})).then((function(n){e((0,E.v)(n.data))}))}))}(t,n)},maxCount:1,showUploadList:!1,className:"cursor-pointer mt-4",children:(0,v.jsx)(l.ZP,{type:"default",icon:(0,v.jsx)(c.Z,{}),className:"mr-4",children:"Thay \u0111\u1ed5i"})})]})}},{title:"Thi\u1ebft l\u1eadp",render:function(n,t){return(0,v.jsx)(f.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){!function(n){n.id&&Z.delete(n.id).then((function(){e((0,E.A)(n))}))}(t)},children:(0,v.jsx)(a.Z.Link,{className:"mr-4",children:(0,v.jsx)(i.Z,{style:{fontSize:"130%"}})})})}}];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.Z,{children:(0,v.jsx)(M,{level:3,children:"\u1ea2nh b\xeca khuy\u1ebfn m\xe3i"})}),(0,v.jsx)(u.Z,{className:"mb-4",children:(0,v.jsx)(s.Z,{customRequest:function(n){n.onSuccess&&n.onSuccess("ok")},maxCount:1,showUploadList:!1,className:"cursor-pointer",beforeUpload:function(n){return T.e.upload(n).then((function(n){var t=(0,g.o)(n.data);t&&Z.create({photoURL:t}).then((function(n){e((0,E.w0)(n.data))}))})),!1},children:(0,v.jsx)(l.ZP,{type:"primary",icon:(0,v.jsx)(o.Z,{}),className:"mr-4",children:"Th\xeam m\u1edbi"})})}),(0,v.jsx)(h.Z,{columns:t,components:{body:{cell:O.n}},dataSource:n,bordered:!0,rowKey:"id",pagination:{pageSize:10}})]})}},1601:function(n,e,t){n.exports=t.p+"static/media/product.486f0f6f4ad9930c2e91.png"}}]);
//# sourceMappingURL=813.42f71cb1.chunk.js.map