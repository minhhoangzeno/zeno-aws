"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[163],{8206:function(n,e,t){t.d(e,{e:function(){return a}});var r=t(3144),i=t(5671),o=t(9344),a=(0,r.Z)((function n(){(0,i.Z)(this,n)}));a.COMPONENT_NAME="Containers",a.upload=function(n){var e=new FormData;return e.append("file",n),(0,o.W)({method:o.n.POST,url:"/".concat(a.COMPONENT_NAME,"/image/upload"),headers:{"Content-Type":"multipart/form-data"},data:e})}},2497:function(n,e,t){t.d(e,{K:function(){return i}});var r=t(1243),i=function(){return r.Z.get("https://provinces.open-api.vn/api/?depth=2").then((function(n){return n.data})).catch((function(n){return console.log("err")}))}},1626:function(n,e,t){t.d(e,{o:function(){return i}});var r=t(4974),i=function(n){return"".concat(r.X.apiUrl,"/Containers/image/download/").concat(n.result.files.file[0].name)}},163:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r=t(1413),i=t(4165),o=t(5861),a=t(9439),c=t(2622),u=t(5863),d=t(1555),l=t(2266),s=t(1082),f=t(7027),h=t(6106),m=t(2477),p=t(2791),v=t(1190),x=t(8206),j=t(4740),Z=t(6708),g=t(72),w=t(1601),C=t(2497),N=t(1626),S=t(1752),T=t(7309),E=t(9555),k=t(9998),y=t(184),M=E.Z.Option;function F(n){var e=n.showModal,t=n.handleShowModal,r=n.account,i=(0,j.T)(),o=(0,p.useState)(3),c=(0,a.Z)(o,2),u=c[0],d=c[1];(0,p.useEffect)((function(){r.roles&&r.roles.length>0&&r.roles[0].id&&d(r.roles[0].id)}),[r]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(k.Z,{title:"Thay \u0111\u1ed5i Role t\xe0i kho\u1ea3n",open:e,onOk:function(){r.id&&v.f.changeRole(r.id,u).then((function(){f.ZP.success("Thay \u0111\u1ed5i th\xe0nh c\xf4ng!"),v.f.fetchAll().then((function(n){i((0,Z.$i)(n.data))})),t(!1)})).catch((function(){f.ZP.error("Error!")}))},onCancel:function(){return t(!1)},children:(0,y.jsxs)(E.Z,{defaultValue:3,value:u,onChange:function(n){return d(n)},children:[(0,y.jsx)(M,{value:1,children:"SUPERADMIN"}),(0,y.jsx)(M,{value:2,children:"ADMIN"}),(0,y.jsx)(M,{value:3,children:"USER"})]})})})}function b(n){var e=n.record,t=(0,p.useState)(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1],c=function(n){o(n)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(h.Z,{style:{width:130},className:"items-center justify-between",children:[e.roles&&e.roles.length>0&&e.roles[0].name,(0,y.jsx)(T.ZP,{icon:(0,y.jsx)(S.Z,{twoToneColor:"blue"}),type:"ghost",onClick:function(){return c(!0)}})]}),i&&(0,y.jsx)(F,{showModal:i,handleShowModal:c,account:e})]})}var O=u.Z.Title;function P(){var n=(0,j.C)(Z.zf),e=(0,j.C)(g.dy),t=(0,j.T)(),S=(0,p.useState)([]),T=(0,a.Z)(S,2),E=T[0],k=T[1];(0,p.useEffect)((function(){M()}),[]),(0,p.useEffect)((function(){v.f.fetchAll().then((function(n){t((0,Z.$i)(n.data))}))}),[t]);var M=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.K)();case 2:e=n.sent,k(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=[{title:"STT",dataIndex:"id",render:function(e,t){var r=n.findIndex((function(n){return n.id===t.id}));return(0,y.jsx)(u.Z.Title,{level:5,children:r+1})}},{title:"T\xean",width:"20%",render:function(n,e){return(0,y.jsxs)(y.Fragment,{children:[e.firstName," ",e.lastName]})}},{title:"Email",dataIndex:"email",width:"10%"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phoneNumber",width:"10%"},{title:"\u0110\u1ecba ch\u1ec9",width:"10%",render:function(n,e){var t=E.find((function(n){return n.code===e.city})),r=null===t||void 0===t?void 0:t.districts.find((function(n){return n.code===e.district}));return(0,y.jsxs)(y.Fragment,{children:[null===r||void 0===r?void 0:r.name," - ",null===t||void 0===t?void 0:t.name]})}},{title:"Avatar",width:"10%",render:function(n,i){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(d.Z,{customRequest:function(n){n.onSuccess&&n.onSuccess("ok")},onChange:function(n){return function(n,e){x.e.upload(e.file.originFileObj).then((function(e){var i=(0,N.o)(e.data);n.id&&v.f.update(n.id,(0,r.Z)((0,r.Z)({},n),{},{avatar:i})).then((function(n){t((0,Z.rx)(n.data)),t((0,g.Rl)(n.data))}))}))}(i,n)},maxCount:1,showUploadList:!1,className:"cursor-pointer",disabled:(null===e||void 0===e?void 0:e.id)!==i.id,children:(0,y.jsx)(l.C,{src:i.avatar?i.avatar:w,size:"large"})})})}},{title:"Role",width:"10%",render:function(n,e){return(0,y.jsx)(b,{record:e})}},{title:"Thi\u1ebft l\u1eadp",render:function(n,e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(s.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng?",onConfirm:function(){return P(e)},children:(0,y.jsx)(u.Z.Link,{className:"mr-4",children:(0,y.jsx)(c.Z,{style:{fontSize:"130%"}})})})})}}],P=function(n){n.id&&v.f.delete(n.id).then((function(){t((0,Z.aL)(n))})).catch((function(n){f.ZP.error("Error")}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(O,{level:3,children:"Ng\u01b0\u1eddi d\xf9ng"})}),(0,y.jsx)(m.Z,{columns:F,dataSource:n,bordered:!0,rowKey:"id",pagination:{pageSize:10}})]})}},1601:function(n,e,t){n.exports=t.p+"static/media/product.486f0f6f4ad9930c2e91.png"}}]);
//# sourceMappingURL=163.697aaddf.chunk.js.map