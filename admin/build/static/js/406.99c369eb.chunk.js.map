{"version":3,"file":"static/js/406.99c369eb.chunk.js","mappings":"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","sources":["apis/feedback.api.ts","pages/feedback/index.tsx"],"sourcesContent":["import { Method, request } from \"../helper/request.helper\";\r\n\r\nexport class FeedbackAPI {\r\n  static readonly COMPONENT_NAME: string = \"Feedbacks\";\r\n\r\n  static fetchAll = () => {\r\n    return request({\r\n      method: Method.GET,\r\n      url: `/${this.COMPONENT_NAME}`,\r\n      params: {\r\n        filter: {\r\n          order: \"createdAt DESC\",\r\n          include: \"account\"\r\n        },\r\n       \r\n      },\r\n    });\r\n  };\r\n\r\n  static delete = (id: number) => {\r\n    return request({\r\n      method: Method.DELETE,\r\n      url: `/${this.COMPONENT_NAME}/${id}`,\r\n    });\r\n  };\r\n}\r\n","import { DeleteOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Avatar, message,\r\n  Popconfirm,\r\n  Row,\r\n  Table,\r\n  Tooltip,\r\n  Typography\r\n} from \"antd\";\r\nimport { useEffect } from \"react\";\r\nimport { FeedbackAPI } from \"../../apis/feedback.api\";\r\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\r\nimport {\r\n  DeleteFeedback,\r\n  GetFeedback,\r\n  SetFeedback\r\n} from \"../../app/reducers/Feedback/Feedback.reducer\";\r\nimport productPNG from \"../../assets/images/product.png\";\r\nimport { IFeedback } from \"../../interface/Feedback.interface\";\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nexport default function Feedback() {\r\n  const data = useAppSelector(GetFeedback);\r\n  const dispatch = useAppDispatch();\r\n  \r\n\r\n  useEffect(() => {\r\n    FeedbackAPI.fetchAll().then((result) => {\r\n      dispatch(SetFeedback(result.data));\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"STT\",\r\n      dataIndex: \"id\",\r\n      render: (_: null, record: IFeedback) => {\r\n        const idx = data.findIndex((el: IFeedback) => el.id === record.id);\r\n        return <Typography.Title level={5}>{idx + 1}</Typography.Title>;\r\n      },\r\n    },\r\n    {\r\n      title: \"Nội dung\",\r\n      dataIndex: \"content\",\r\n      width: \"20%\",\r\n      editable: true,\r\n      render: (_: null, record: IFeedback) => {\r\n        return (\r\n          <Tooltip title={record.content} placement=\"bottom\">\r\n            <Paragraph ellipsis={{ rows: 2, suffix: \"...\" }}>\r\n              {record.content}\r\n            </Paragraph>\r\n          </Tooltip>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"Avatar\",\r\n      dataIndex: \"color\",\r\n      width: \"8%\",\r\n      render: (_: null, record: IFeedback) => {\r\n        return (\r\n          <>\r\n            <Avatar\r\n              src={record.account?.avatar ? record.account?.avatar : productPNG}\r\n              size=\"large\"\r\n            />\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"Người gửi\",\r\n      width: \"13%\",\r\n      editable: true,\r\n      render: (_: null, record: IFeedback) => {\r\n        return (\r\n          <Text>\r\n            {record.account?.firstName} {record.account?.lastName}\r\n          </Text>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      width: \"20%\",\r\n      editable: true,\r\n      render: (_: null, record: IFeedback) => {\r\n        return <Text>{record.account?.email}</Text>;\r\n      },\r\n    },\r\n    {\r\n      title: \"SDT\",\r\n      dataIndex: \"phoneNumber\",\r\n      width: \"12%\",\r\n      editable: true,\r\n      render: (_: null, record: IFeedback) => {\r\n        return <Text>{record.account?.phoneNumber}</Text>;\r\n      },\r\n    },\r\n    {\r\n      title: \"Thiết lập\",\r\n      render: (_: null, record: IFeedback) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"Bạn có chắc chắn muốn xóa không?\"\r\n            onConfirm={() => deleteRecord(record)}\r\n          >\r\n            <Typography.Link className=\"mr-4\">\r\n              <DeleteOutlined style={{ fontSize: \"130%\" }} />\r\n            </Typography.Link>\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const deleteRecord = (record: IFeedback) => {\r\n    if (record.id) {\r\n      FeedbackAPI.delete(record.id)\r\n        .then(() => {\r\n          dispatch(DeleteFeedback(record));\r\n        })\r\n        .catch((err) => {\r\n          message.error(\"Error\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Title level={3}>Phản hồi</Title>\r\n      </Row>\r\n\r\n      <Table columns={columns} dataSource={data} bordered rowKey=\"id\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":["FeedbackAPI","_createClass","_classCallCheck","COMPONENT_NAME","fetchAll","request","method","Method","url","concat","params","filter","order","include","delete","id","Title","Typography","Paragraph","Text","Feedback","data","useAppSelector","GetFeedback","dispatch","useAppDispatch","useEffect","then","result","SetFeedback","columns","title","dataIndex","render","_","record","idx","findIndex","el","_jsx","level","children","width","editable","Tooltip","content","placement","ellipsis","rows","suffix","_record$account","_record$account2","_Fragment","Avatar","src","account","avatar","productPNG","size","_record$account3","_record$account4","_jsxs","firstName","lastName","_record$account5","email","_record$account6","phoneNumber","Popconfirm","onConfirm","deleteRecord","className","DeleteOutlined","style","fontSize","DeleteFeedback","catch","err","message","Row","Table","dataSource","bordered","rowKey"],"sourceRoot":""}