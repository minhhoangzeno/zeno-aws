{"version":3,"file":"static/js/406.99c369eb.chunk.js","mappings":"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","sources":["apis/feedback.api.ts","pages/feedback/index.tsx"],"sourcesContent":["import { Method, request } from \"../helper/request.helper\";\n\nexport class FeedbackAPI {\n  static readonly COMPONENT_NAME: string = \"Feedbacks\";\n\n  static fetchAll = () => {\n    return request({\n      method: Method.GET,\n      url: `/${this.COMPONENT_NAME}`,\n      params: {\n        filter: {\n          order: \"createdAt DESC\",\n          include: \"account\"\n        },\n       \n      },\n    });\n  };\n\n  static delete = (id: number) => {\n    return request({\n      method: Method.DELETE,\n      url: `/${this.COMPONENT_NAME}/${id}`,\n    });\n  };\n}\n","import { DeleteOutlined } from \"@ant-design/icons\";\nimport {\n  Avatar, message,\n  Popconfirm,\n  Row,\n  Table,\n  Tooltip,\n  Typography\n} from \"antd\";\nimport { useEffect } from \"react\";\nimport { FeedbackAPI } from \"../../apis/feedback.api\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport {\n  DeleteFeedback,\n  GetFeedback,\n  SetFeedback\n} from \"../../app/reducers/Feedback/Feedback.reducer\";\nimport productPNG from \"../../assets/images/product.png\";\nimport { IFeedback } from \"../../interface/Feedback.interface\";\n\nconst { Title, Paragraph, Text } = Typography;\n\nexport default function Feedback() {\n  const data = useAppSelector(GetFeedback);\n  const dispatch = useAppDispatch();\n  \n\n  useEffect(() => {\n    FeedbackAPI.fetchAll().then((result) => {\n      dispatch(SetFeedback(result.data));\n    });\n  }, [dispatch]);\n\n  const columns = [\n    {\n      title: \"STT\",\n      dataIndex: \"id\",\n      render: (_: null, record: IFeedback) => {\n        const idx = data.findIndex((el: IFeedback) => el.id === record.id);\n        return <Typography.Title level={5}>{idx + 1}</Typography.Title>;\n      },\n    },\n    {\n      title: \"Nội dung\",\n      dataIndex: \"content\",\n      width: \"20%\",\n      editable: true,\n      render: (_: null, record: IFeedback) => {\n        return (\n          <Tooltip title={record.content} placement=\"bottom\">\n            <Paragraph ellipsis={{ rows: 2, suffix: \"...\" }}>\n              {record.content}\n            </Paragraph>\n          </Tooltip>\n        );\n      },\n    },\n    {\n      title: \"Avatar\",\n      dataIndex: \"color\",\n      width: \"8%\",\n      render: (_: null, record: IFeedback) => {\n        return (\n          <>\n            <Avatar\n              src={record.account?.avatar ? record.account?.avatar : productPNG}\n              size=\"large\"\n            />\n          </>\n        );\n      },\n    },\n    {\n      title: \"Người gửi\",\n      width: \"13%\",\n      editable: true,\n      render: (_: null, record: IFeedback) => {\n        return (\n          <Text>\n            {record.account?.firstName} {record.account?.lastName}\n          </Text>\n        );\n      },\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"email\",\n      width: \"20%\",\n      editable: true,\n      render: (_: null, record: IFeedback) => {\n        return <Text>{record.account?.email}</Text>;\n      },\n    },\n    {\n      title: \"SDT\",\n      dataIndex: \"phoneNumber\",\n      width: \"12%\",\n      editable: true,\n      render: (_: null, record: IFeedback) => {\n        return <Text>{record.account?.phoneNumber}</Text>;\n      },\n    },\n    {\n      title: \"Thiết lập\",\n      render: (_: null, record: IFeedback) => {\n        return (\n          <Popconfirm\n            title=\"Bạn có chắc chắn muốn xóa không?\"\n            onConfirm={() => deleteRecord(record)}\n          >\n            <Typography.Link className=\"mr-4\">\n              <DeleteOutlined style={{ fontSize: \"130%\" }} />\n            </Typography.Link>\n          </Popconfirm>\n        );\n      },\n    },\n  ];\n\n  const deleteRecord = (record: IFeedback) => {\n    if (record.id) {\n      FeedbackAPI.delete(record.id)\n        .then(() => {\n          dispatch(DeleteFeedback(record));\n        })\n        .catch((err) => {\n          message.error(\"Error\");\n        });\n    }\n  };\n\n  return (\n    <>\n      <Row>\n        <Title level={3}>Phản hồi</Title>\n      </Row>\n\n      <Table columns={columns} dataSource={data} bordered rowKey=\"id\" />\n    </>\n  );\n}\n"],"names":["FeedbackAPI","_createClass","_classCallCheck","COMPONENT_NAME","fetchAll","request","method","Method","url","concat","params","filter","order","include","delete","id","Title","Typography","Paragraph","Text","Feedback","data","useAppSelector","GetFeedback","dispatch","useAppDispatch","useEffect","then","result","SetFeedback","columns","title","dataIndex","render","_","record","idx","findIndex","el","_jsx","level","children","width","editable","Tooltip","content","placement","ellipsis","rows","suffix","_record$account","_record$account2","_Fragment","Avatar","src","account","avatar","productPNG","size","_record$account3","_record$account4","_jsxs","firstName","lastName","_record$account5","email","_record$account6","phoneNumber","Popconfirm","onConfirm","deleteRecord","className","DeleteOutlined","style","fontSize","DeleteFeedback","catch","err","message","Row","Table","dataSource","bordered","rowKey"],"sourceRoot":""}